---
import type { TreeNode as TreeNodeType } from "~/types";

export interface Props {
  nodes: TreeNodeType[];
}

const { nodes } = Astro.props;
---

<div>
  {
    nodes.map((child, index) => (
      <li class={child.children ? 'class="last"' : ""}>
        {child.url ? (
          <a href={child.url} target="_blank">
            {child.name}
          </a>
        ) : (
          <span>{child.name}</span>
        )}
        {child.children ? (
          <ul>
            <Astro.self nodes={child.children} />
          </ul>
        ) : (
          ""
        )}
      </li>
    ))
  }
</div>
